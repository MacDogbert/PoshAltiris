<!--
SYMANTEC:     Copyright (c) 2016 Symantec Corporation. All rights reserved.

THIS SOFTWARE CONTAINS CONFIDENTIAL INFORMATION AND TRADE SECRETS OF SYMANTEC CORPORATION. USE, 
DISCLOSURE OR REPRODUCTION IS PROHIBITED WITHOUT THE PRIOR EXPRESS WRITTEN PERMISSION OF SYMANTEC
CORPORATION.

The Licensed Software and Documentation are deemed to be commercial computer software as defined
in FAR 12.212 and subject to restricted rights as defined in FAR Section 52.227-19 "Commercial
Computer Software - Restricted Rights" and DFARS 227.7202, Rights in "Commercial Computer Software
or Commercial Computer Software Documentation", as applicable, and any successor regulations,
whether delivered by Symantec as on premises or hosted services.  Any use, modification, reproduction
release, performance, display or disclosure of the Licensed Software and Documentation by the U.S.
Government shall be solely in accordance with the terms of this Agreement.
-->

<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Troubleshooting</title><link rel="stylesheet" type="text/css" href="../styles/presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/Dropdown.js"> </script><script type="text/javascript" src="../scripts/script_manifold.js"> </script><script type="text/javascript" src="../scripts/script_feedBack.js"> </script><script type="text/javascript" src="../scripts/CheckboxMenu.js"> </script><script type="text/javascript" src="../scripts/CommonUtilities.js"> </script><xml><MSHelp:Keyword Index="A" Term="5c98c883-f535-441d-9228-b6989b0b4058" /><MSHelp:Attr Name="RevisionNumber" Value="1" /><MSHelp:Attr Name="AssetID" Value="5c98c883-f535-441d-9228-b6989b0b4058" /><MSHelp:Attr Name="Abstract" Value="&#xD;&#xA;        Following are paths to general troubleshooting information.&#xD;&#xA;      " /><MSHelp:Attr Name="TopicType" Value="kbArticle" /><MSHelp:Attr Name="Locale" Value="en-us" /></xml><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"></script></head><body><input type="hidden" id="userDataCache" class="userDataStyle" /><input type="hidden" id="hiddenScrollOffset" /><img id="collapseImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" title="Collapse image" /><img id="expandImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" title="Expand Image" /><img id="collapseAllImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" /><img id="expandAllImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" /><img id="dropDownImage" style="display:none; height:0; width:0;" src="../icons/dropdown.gif" /><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../icons/dropdownHover.gif" /><img id="copyImage" style="display:none; height:0; width:0;" src="../icons/copycode.gif" title="Copy image" /><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../icons/copycodeHighlight.gif" title="CopyHover image" /><div id="header"><table id="topTable" cellspacing="0" cellpadding="0"><tr><td><span onclick="ExpandCollapseAll(toggleAllImage)" style="cursor:default;" onkeypress="ExpandCollapseAll_CheckKey(toggleAllImage, event)" tabindex="0"><img ID="toggleAllImage" class="toggleAll" src="../icons/collapse_all.gif" /> <label id="collapseAllLabel" for="toggleAllImage" style="display: none;">Collapse All</label><label id="expandAllLabel" for="toggleAllImage" style="display: none;">Expand All</label> </span></td></tr></table><div id="devlangsMenu"><input id="CSharpCheckbox" type="checkbox" data="CSharp,cs,'persist'" value="on" onClick="SetLanguage(this)" /><label class="checkboxLabel" for="CSharpCheckbox">C#</label><br /></div><table id="bottomTable" cellpadding="0" cellspacing="0"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText">Symantec Administrator SDK 8.0</span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Troubleshooting</span></td></tr><tr id="headerTableRow3"><td align="left">
  <span id="headfeedbackarea" class="feedbackhead">
      <a href="javascript:SubmitFeedback('DL-AL-SDKSupport@symantec.com','Symantec Administrator SDK 8.0','','1.0.0.0','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback');">
        
        Send Feedback
      </a>
	</span>
</td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()" /><span style="color: DarkGray"> </span>
  

    <div class="introduction">
      <p>
        Following are paths to general troubleshooting information.
      </p>
      <p>
        <ul><li>
            ASDK procedure information and errors are written to the ASDK log files, generally located
            in the C:\ProgramData\Symantec\SMP\ASDK folder. Perhaps explicitly specify the log directory 
            are create in the registry string value - HKEY_LOKAL_MACHINE\SOFTWARE\Altiris\ASDK\LogDirectory.
          </li><li>
            For Notification Server (NS) based components (Site [Task] Server, NS solutions, etc.) this
            information is also written to the Notification Server log, generally located at 
            C:\ProgramData\Symantec\SMP\Logs\a.log.
          </li><li>
            You can use the Altiris LogViewer to view either log. This tool is provided on your Notification
            Server, generally located at C:\Program Files\Altiris\Notification Server\bin\LogViewer.exe
            or C:\Program Files\Altiris\Diagnostics\LogViewer.exe.
          </li><li>
            Use the SetASDKLogging.exe tool to change user preferences for how logs are produced. This tool is
            located in the ASDK Bin directory. Options that can be changed include which
            logging levels to report (Error, Warning, Info, Verbose), the directory
            where logs are stored, and if log information should be sent to the NS log.
          </li></ul>
      </p>
      
    </div>

    <a name="Section1" /><h1 class="heading"><span onclick="ExpandCollapse(sectionToggle0)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggle0, event)" tabindex="0"><img id="sectionToggle0" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Handling Exceptions</span></h1><div id="sectionSection0" class="section" name="collapseableSection" style="">
        <p>
          The table lists ASDK exceptions, the typical message you will see, and a description of the exception.
          Following the table you will find information about how to handle these exceptions.
        </p>
        <p>
          <div class="caption"></div><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs">
            
              <tr>
                <th>Exception Name</th>
                <th>Typical Message</th>
                <th>Description</th>
              </tr>
            
            <tr>
              <td>
                <span class="code">ASDKNoProductExistsException</span>
              </td>
              <td>
                Product name was not found. This product must be installed before
                calling related methods.
              </td>
              <td>
                You are attempting to call an ASDK method on a Symantec Management Platform product that is not
                currently installed on this machine. This may occur if a product, such as Asset Management, was
                installed and has been removed.
              </td>
            </tr>
            <tr>
              <td>
                <span class="code">ASDKInvalidLicenseException</span>
              </td>
              <td>
                A license for product name was not found or is expired. A valid license
                must exist before calling related methods.
              </td>
              <td>
                You are attempting to call an ASDK method on a Symantec Management Platform product for which
                you do not have a valid license. This may occur if the license has not been obtained, or has expired.
              </td>
            </tr>
            <tr>
              <td>
                <span class="code">ASDKInsufficientPermissionException</span>
              </td>
              <td>
                User user name has insufficient permission to execute command 
                command name.
              </td>
              <td>
                The user executing this command does not have proper permissions to do so. This may occur if
                1) the user is part of a security role that has been denied permission to this action or item,
                2) the user has been specifically blocked for this action on this item, or 3) the item has been
                blocked from this action.
              </td>
            </tr>
            <tr>
              <td>
                <span class="code">ASDKDoesNotExistException</span>
              </td>
              <td>
                Parameter name/value does not exist.
              </td>
              <td>
                A value has been supplied to the method that can not be reconciled. For instance, a guid has
                been passed to the method to identify an item, but that guid does not translate to any known item.
              </td>
            </tr>
            <tr>
              <td>
                <span class="code">ASDKInvalidTypeException</span>
              </td>
              <td>
                Parameter name is not of type type name.
              </td>
              <td>
                A value has been supplied to the method that can not be operated on because it is the wrong
                type. For instance, a method may expect a guid for a collection, but the guid supplied is
                actually for a computer.
              </td>
            </tr>
            <tr>
              <td>
                <span class="code">ASDKInvalidParameterException</span>
              </td>
              <td>
                Invalid parameter parameter name. Reason.
              </td>
              <td>
                A value has been supplied to the method that is unrecognizable. As examples, XML may have
                been expected, but the XML supplied was improperly formatted, or a comma-separated list of guids
                may have been expected, but the list supplied did not contain strictly guids.
              </td>
            </tr>
            <tr>
              <td>
                <span class="code">ASDKInternalException</span>
              </td>
              <td>
                An internal exception occured: exception message.
              </td>
              <td>
                The ASDK often wraps other method calls that may throw exceptions unforeseen by the ASDK method.
                This catch-all exception class catches these deeper exceptions and reports them.
              </td>
            </tr>
            <tr>
              <td>
                <span class="code">ASDKException</span>
              </td>
              <td>
                Any message.
              </td>
              <td>
                This is the base exception type for all of the previously defined exception types. An exception
                of this type may be thrown directly if it does not fit appropriately into one of the above
                categories, or if the particular ASDK module has not fully implemented the other more specific
                ASDK Exception types.
              </td>
            </tr>
          </table></div>
        </p>
        <p>
          Exceptions fall into two categories: the Web Service layer and the COM and CLI layers.
        </p>
        
        <p>
          <a name="SubSection1" /><h3 class="subHeading">Web Service Layer</h3><div class="subsection">
              <p>
                The Web service layer uses SOAP messages to communicate back and forth to the Web server.
                Therefore, exceptions thrown from the Web service layer are always of type SoapException.
                Typically when this happens, all information about the exception is lost except the message:
                exception type, stack trace, etc. are all discarded. In order to retain some of this information
                for the user, the ASDK uses the detail property of the SoapException class. The detail property
                is simply an XMLNode that can contain any information desired. The ASDK formats this XML to
                contain the exception type, stack trace, and details for any inner exceptions. The following C#
                code snippet shows how to catch these exceptions and retrieve the information.
              </p>
              <p>
                <span id="cbc_1" x-lang="CSharp" codeLanguage="CSharp"><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img src="../icons/CopyCode.gif" style="margin-right: 5px;" />Copy</span>C#</div><div class="code"><pre><span class="highlight-keyword">try</span>
{
      <span class="highlight-comment">// make call to web service layer here</span>
      m_proxy.GetTasks( <span class="highlight-keyword">new</span> Guid(<span class="highlight-literal">"6110f9c0-8474-4a61-b43c-0b1c08610ff1"</span>) );
}
<span class="highlight-keyword">catch</span>(SoapException ex)
{
      <span class="highlight-keyword">string</span> message = ex.Message;
      <span class="highlight-keyword">string</span> exceptionType = ex.Detail.SelectSingleNode(<span class="highlight-literal">"//exceptionType"</span>).InnerText;
      <span class="highlight-keyword">string</span> stackTrace = ex.Detail.SelectSingleNode(<span class="highlight-literal">"//stackTrace"</span>).InnerText;
      <span class="highlight-keyword">string</span> innerException = ex.Detail.SelectSingleNode(<span class="highlight-literal">"//innerException"</span>).InnerText;
}</pre></div></span>
              </p>
            </div>
        </p>

        <p>
          <a name="SubSection2" /><h3 class="subHeading">COM and CLI layers</h3><div class="subsection">
              <p>
                The COM and CLI layers are not as programmatically rich as the C# example shown above. These
                layers are limited to simply reporting the exception message. The typical messages have been
                provided in the Exception table above, which may help determine the exception type; however,
                these messages are not enforced and may be overwritten by the ASDK when it seems appropriate.
              </p>
            </div>
        </p>
        
      </div>

  
</div><div id="footer"><div class="footerLine"><img width="100%" height="3px" src="../icons/footer.gif" title="Footer image" /></div><A NAME="feedback"></A><span id="fb" class="feedbackcss" style="display: none;"> </span>
<p />Send comments on this topic to
        <a id="HT_MailLink" href="mailto:DL-AL-SDKSupport%40symantec.com?Subject=Symantec Administrator SDK 8.0">DL-AL-SDKSupport@symantec.com</a>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title;
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> <p />Copyright © 2016, Symantec Corporation, All rights reserved</div></div></body></html>
