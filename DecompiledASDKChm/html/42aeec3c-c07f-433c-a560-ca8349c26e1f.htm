<!--
SYMANTEC:     Copyright (c) 2016 Symantec Corporation. All rights reserved.

THIS SOFTWARE CONTAINS CONFIDENTIAL INFORMATION AND TRADE SECRETS OF SYMANTEC CORPORATION. USE, 
DISCLOSURE OR REPRODUCTION IS PROHIBITED WITHOUT THE PRIOR EXPRESS WRITTEN PERMISSION OF SYMANTEC
CORPORATION.

The Licensed Software and Documentation are deemed to be commercial computer software as defined
in FAR 12.212 and subject to restricted rights as defined in FAR Section 52.227-19 "Commercial
Computer Software - Restricted Rights" and DFARS 227.7202, Rights in "Commercial Computer Software
or Commercial Computer Software Documentation", as applicable, and any successor regulations,
whether delivered by Symantec as on premises or hosted services.  Any use, modification, reproduction
release, performance, display or disclosure of the Licensed Software and Documentation by the U.S.
Government shall be solely in accordance with the terms of this Agreement.
-->

<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Using the Command Line Interface Layer</title><link rel="stylesheet" type="text/css" href="../styles/presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/Dropdown.js"> </script><script type="text/javascript" src="../scripts/script_manifold.js"> </script><script type="text/javascript" src="../scripts/script_feedBack.js"> </script><script type="text/javascript" src="../scripts/CheckboxMenu.js"> </script><script type="text/javascript" src="../scripts/CommonUtilities.js"> </script><xml><MSHelp:Keyword Index="A" Term="42aeec3c-c07f-433c-a560-ca8349c26e1f" /><MSHelp:Attr Name="RevisionNumber" Value="1" /><MSHelp:Attr Name="AssetID" Value="42aeec3c-c07f-433c-a560-ca8349c26e1f" /><MSHelp:Attr Name="Abstract" Value="&#xD;&#xA;        You can use the command-line interface (CLI) to enter commands, display usage and help, and capture&#xD;&#xA;        return values. Each use is explained below.&#xD;&#xA;      " /><MSHelp:Attr Name="TopicType" Value="kbArticle" /><MSHelp:Attr Name="Locale" Value="en-us" /></xml><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"></script></head><body><input type="hidden" id="userDataCache" class="userDataStyle" /><input type="hidden" id="hiddenScrollOffset" /><img id="collapseImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" title="Collapse image" /><img id="expandImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" title="Expand Image" /><img id="collapseAllImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" /><img id="expandAllImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" /><img id="dropDownImage" style="display:none; height:0; width:0;" src="../icons/dropdown.gif" /><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../icons/dropdownHover.gif" /><img id="copyImage" style="display:none; height:0; width:0;" src="../icons/copycode.gif" title="Copy image" /><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../icons/copycodeHighlight.gif" title="CopyHover image" /><div id="header"><table id="topTable" cellspacing="0" cellpadding="0"><tr><td><span onclick="ExpandCollapseAll(toggleAllImage)" style="cursor:default;" onkeypress="ExpandCollapseAll_CheckKey(toggleAllImage, event)" tabindex="0"><img ID="toggleAllImage" class="toggleAll" src="../icons/collapse_all.gif" /> <label id="collapseAllLabel" for="toggleAllImage" style="display: none;">Collapse All</label><label id="expandAllLabel" for="toggleAllImage" style="display: none;">Expand All</label> </span></td></tr></table><div id="devlangsMenu"><input id="CSharpCheckbox" type="checkbox" data="CSharp,cs,'persist'" value="on" onClick="SetLanguage(this)" /><label class="checkboxLabel" for="CSharpCheckbox">C#</label><br /></div><table id="bottomTable" cellpadding="0" cellspacing="0"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText">Symantec Administrator SDK 8.0</span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Using the Command Line Interface Layer</span></td></tr><tr id="headerTableRow3"><td align="left">
  <span id="headfeedbackarea" class="feedbackhead">
      <a href="javascript:SubmitFeedback('DL-AL-SDKSupport@symantec.com','Symantec Administrator SDK 8.0','','1.0.0.0','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback');">
        
        Send Feedback
      </a>
	</span>
</td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()" /><span style="color: DarkGray"> </span>
  

    <div class="introduction">
      <p>
        You can use the command-line interface (CLI) to enter commands, display usage and help, and capture
        return values. Each use is explained below.
      </p>
	<p>
To run the CLI tasks, you need to have the permissions of a local administrator
and of the Symantec Administrator role.
	</p>
    <a name="Section1" /><h1 class="heading"><span onclick="ExpandCollapse(sectionToggle0)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggle0, event)" tabindex="0"><img id="sectionToggle0" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Entering Commands</span></h1><div id="sectionSection0" class="section" name="collapseableSection" style="">
        <p>
          The CLI is composed of a set of executable files, one for each module of the ASDK. These executables
          are contained in the ASDK bin directory. Each executable uses the same style of
          input for its commands. Arguments to the CLI are as follows:
        </p>
        <ul><li>
            <p>
              cmd:Method Name
            </p>
            <p>
              The argument cmd is a short form of the word command. The sequence is followed by a colon and then
              the name of the method to execute. The method name must be entered exactly as it appears in the API
              documentation, including case-sensitivity.
            </p>
          </li><li>
            <p>
              Parameter Name:Parameter Value
            </p>
            <p>
              Following the command name, each of the parameters should be listed along with their values.
              Parameter names are separated from parameter values by a colon. Multiple parameters are separated
              from each other by a space, and the first parameter is also separated from the method (command)
              name by a space. However, there should be no spaces between the delimiting colon (":") and the
              parameter name and value. The parameter name must be typed exactly as it appears in the API
              documentation, including case-sensitivity. The parameter value is always a string and can be
              enclosed in quotes for values containing spaces. Parameter values are translated into the appropriate
              type described in the API documentation before the actual call is made.
            </p>
          </li><li>
            <p>
              fmt:Format Style (Optional)
            </p>
            <p>
              The argument fmt is a short form of the word format. This argument determines how the output
              will be displayed. Options are xml, csv
              (comma-separated values), and default. This argument
              is optional; if it is not supplied, the default format is displayed. An example of calling methods
              from the ReportManagement library in the NS module is shown below.
            </p>
          </li></ul>
      </div>

    <a name="Section2" /><h1 class="heading"><span onclick="ExpandCollapse(sectionToggle1)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggle1, event)" tabindex="0"><img id="sectionToggle1" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Displaying Usage and Help</span></h1><div id="sectionSection1" class="section" name="collapseableSection" style="">
        <p>
          Display usage by typing only the executable name and pressing the Enter key. To diplay both usage
          and help, type the executable name followed by <b>/?</b> and press the Enter key, as follows:
          <blockQuote>
            
              AltirisASDKNS.exe <b>/?</b>
            
          </blockQuote>
        </p>
        <p>
          You can view available commands with their respective parameter names and explanations from the CLI
          help. To display this detailed help, type the executable name followed by <b>/?o</b> (o for
          object), followed by the name of the object (or library) to display, as follows:
          <blockQuote>
            
              AltirisASDKNS.exe <b>/?o</b> ItemManagementLib
            
          </blockQuote>
        </p>
        <p>
          Including the object name will return the methods of the object as well. Following is a list of
          available objects:
          <ul><li>CollectionManagementLib</li><li>HierarchyManagementLib</li><li>ItemManagementLib</li><li>ReportManagementLib</li><li>ResourceManagementLib</li><li>ScopingManagementLib</li><li>SecurityManagementLib</li></ul>
        </p>
      </div>

    <a name="Section3" /><h1 class="heading"><span onclick="ExpandCollapse(sectionToggle2)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggle2, event)" tabindex="0"><img id="sectionToggle2" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Capturing Return Values</span></h1><div id="sectionSection2" class="section" name="collapseableSection" style="">
        <p>
          It is often desirable to use the output of one command as input to another command. From the command
          line prompt, this is often done using copy and paste. However, with batch scripts and a little
          command-line know-how, capturing and reusing return values can be done automatically. It is beyond
          the scope of this document to explain the various tricks and tips of using the command line, but
          the basic idea is as follows:
          <ol><li>
              Redirect the output of the first ASDK command to a temporary text file, possibly piping the
              output through filters to get just the data you want.
            </li><li>
              Use a for statement to read the text file and store the desired value in a variable.
            </li><li>
              Use the newly created variable as input to the second ASDK command.
            </li></ol>
        </p>
        <p>
          An example of this process is shown in the code snippet below:
          <span id="cbc_1" x-lang="CSharp" codeLanguage="CSharp"><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img src="../icons/CopyCode.gif" style="margin-right: 5px;" />Copy</span>C#</div><div class="code"><pre>SET reportsFolderGuid=<span class="highlight-literal">"{4d4d03c6-cb51-4502-886f-13f756198b1b}"</span>
AltirisASDKNS.exe cmd:CreateReportUsingRawSqlQuery reportName:<span class="highlight-literal">"Report from CLI"</span> reportDescription:<span class="highlight-literal">"A sample report"</span>
dataSourceName:<span class="highlight-literal">"Some client operating systems"</span> folderGuid:%reportsFolderGuid% query:"SELECT DISTINCT TOP <span class="highlight-number">10</span> [OS Name]
  FROM Inv_AeX_AC_Identification<span class="highlight-literal">" | find "</span>Guid<span class="highlight-literal">" | find /V "</span>TypeGuid<span class="highlight-literal">" | find /V "</span>ParentFolderGuid<span class="highlight-literal">" | find /V "</span>SharedScheduleGuid" &gt; temp.txt
<span class="highlight-keyword">for</span> /f <span class="highlight-literal">"tokens=2"</span> %%a <span class="highlight-keyword">in</span> (temp.txt) <span class="highlight-keyword">do</span> @(@set reportGuid=%%a)
AltirisASDKNS.exe cmd:RunReport reportGuid:%reportGuid% nameValuePairs:<span class="highlight-literal">""</span></pre></div></span>
        </p>
      </div>

  
</div><div id="footer"><div class="footerLine"><img width="100%" height="3px" src="../icons/footer.gif" title="Footer image" /></div><A NAME="feedback"></A><span id="fb" class="feedbackcss" style="display: none;"> </span>
<p />Send comments on this topic to
        <a id="HT_MailLink" href="mailto:DL-AL-SDKSupport%40symantec.com?Subject=Symantec Administrator SDK 8.0">DL-AL-SDKSupport@symantec.com</a>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title;
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> <p />Copyright © 2016, Symantec Corporation, All rights reserved</div></div></body></html>
